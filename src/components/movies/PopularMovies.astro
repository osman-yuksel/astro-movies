---
import PopularMovies from "./PopularMovies";
import type { PM } from "./types";

// data fetching on server
const response = await fetch(
  `https://api.themoviedb.org/3/movie/popular?api_key=${
    import.meta.env.TMDB_API_KEY
  }&language=en-US&page=1`
);
const data = (await response.json()) as PM;
---

<PopularMovies results={data.results} client:only />
